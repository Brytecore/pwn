/*! Pwn INPUT TYPE=SELECT replacement. */
!function(a,b){a.fn.pwn_select=function(){return this.each(function(){var c=a(this);if("select"===c[0].tagName.toLowerCase()){var d,e,f,g=a("<div class='pwn-select'></div>"),h=a("<div class='pwn-select-value'></div>"),i=a("<div class='pwn-select-list'></div>"),j=a("<div class='pwn-select-arrow'></div>");if(c.children("option").each(function(){var b=a(this);f=a("<div class='pwn-select-option'></div>"),f.attr("data-value",b.val()),f.text(b.text()),b.is(":selected")&&(d=b.val(),e=b.text(),f.addClass("selected")),i.append(f)}),b==d||""==d){var k=c.children(":first");d=k.val(),e=k.text(),i.children(":first").addClass("selected"),h.addClass("not-selected")}h.text(e),g.append(h),g.append(i),g.append(j),c.before(g),c.hide(),h.on("click",function(){i.toggle(),j.toggleClass("expanded")}),j.on("click",function(){i.toggle(),j.toggleClass("expanded")}),a(document).on("mouseup",function(a){var b,c=a?a:event;if(c.srcElement?b=c.srcElement:c.target&&(b=c.target),!g.is(b.target)&&0===g.has(b.target).length){var d=b.tagName;-1==d.toUpperCase().indexOf("HTML")&&(i.hide(),j.removeClass("expanded"))}}),c.on("change",function(){var a=c.children(":selected").text(),b=c.val();""===b?h.addClass("not-selected"):h.removeClass("not-selected"),h.text(a),i.children(".pwn-select-option").removeClass("selected"),i.children(".pwn-select-option[data-value='"+b+"']").addClass("selected")}),i.on("click",".pwn-select-option",function(){var b=a(this);b.hasClass("selected")||(c.val(b.attr("data-value")).change(),i.hide(),j.removeClass("expanded"))})}})}}(jQuery);